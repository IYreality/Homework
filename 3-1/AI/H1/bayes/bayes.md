#  用朴素贝叶斯的方法实现垃圾邮件分类
贝叶斯定理也称贝叶斯推理，早在18世纪，英国学者贝叶斯(1702～1763)曾提出计算条件概率的公式用来解决如下一类问题：假设H[1],H[2]…,H[n]互斥且构成一个完全事件，已知它们的概率P(H[i]),i=1,2,…,n,现观察到某事件A与H[,1],H[,2]…,H[,n]相伴随机出现，且已知条件概率P(A/H[,i])，求P(H[,i]/A)。


朴素贝叶斯：假设给定目标值时属性之间相互条件独立。根据公式1，在给定事件B的值的情况下，Ai,…,An 是相互独立的。

朴素贝叶斯模型：根据贝叶斯定理和朴素贝叶斯假设条件，从训练集中训练出来的模型。

原理分析
现在的情况是这样的。有一个邮箱服务，里面有成千上万的人发送和接收邮件。可以使用黑名单来屏蔽垃圾邮件，但是对于一封新邮箱地址发送的邮件，却不能识别。现在需要对邮件进行分析，判断其是垃圾邮件的概率，来帮助管理员分担一部分工作。

转换成数学问题，就是。现在有一个邮件的数据集，数据集可以从这个网址下载。

https://github.com/IYreality/Homework/tree/master/3-1/AI/H1/bayes

数据集中每一行代表一封邮件。以spam开头代表是垃圾邮件，以nonspam开头代表是正常邮件。现在使用这个数据集训练出一个朴素贝叶斯模型。

再来任意一封邮件，由模型判断出这封邮件是垃圾邮件的概率。

如果这封邮件为垃圾邮件，则识别成功，如果为正常邮件，则识别错误。

有两个标准来评价模型的价值。召回率(Recall Rate)和准确率(Precision Rate)

|-	|实际为垃圾邮件|	实际为正常邮件|
|---------|---------|--------|
|识别为垃圾邮件|	A|	B|
|识别为正常邮件|	C|	D|

A，B，C，D为对应的数量。

则召回率为： R = A/(A+C)
准确率为：P = A/(A+B)
注意：准确率和召回率是互相影响的，理想情况下肯定是做到两者都高，但是一般情况下准确率高、召回率就低，召回率低、准确率高，当然如果两者都低，那是什么地方出问题了。

如果是做搜索，那就是保证召回的情况下提升准确率；如果做疾病监测、反垃圾，则是保准确率的条件下，提升召回。

所以，在两者都要求高的情况下，可以用F1来衡量。

F1 = 2PR/(P+R)

算法描述为：![朴素贝叶斯](https://github.com/IYreality/links/blob/master/pictures/bayes.jpg)




